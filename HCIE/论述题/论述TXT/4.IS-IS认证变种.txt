一、R2、R3 的 IS-IS 开启的接口认证，如何保证密码平滑更换？
二、AR1和AR2通过哪台路由的LSP访问49.0002，如果AR3和AR4的链路中断，AR1能否通过SPF感知到？AR1的默认路由是否还存在？

解决方案：针对接口认证，可以使用 send-only 关键字完成密码的平滑更换。
具体方案和解决步骤如下：
（1）目前接口认证添加 send-only 关键字
interface GigabitEthernet x/x/x
    isis authenication-mode md5 cipher admin@123 send-only	// 添加 send-only 关键字
配置了 send-only 关键字表示仅对发送的 Hello 封装认证 TLV 字段，而不检查收到的 Hello 报文是否通过了认证。

（2）修改密码，并保留 send-only 关键字
interface GigabitEthernet x/x/x
    isis authenication-mode md5 cipher huawei@123 send-only	// 保留 send-only 关键字
修改密码后仍然保留 send-only 关键字，实现密码的平滑更换，防止密码不一致影响邻居关系。

（3）检查配置并移除 send-only 关键字
interface GigabitEthernet x/x/x
    isis authenication-mode md5 cipher huawei@123	// 移除 send-only 关键字
检查所有相关路由器都已完成上述配置后，移除 send-only 关键字，实现密码的平滑更换。


（1）AR1 通过 AR3 的 LSP 访问 49.0002 区域
AR1 和 AR2 作为 Level-1 的设备，仅维护本区域内的 Level-1 的 LSP，从而生成指向 AP3 的默认路由。
需要 AR3 作为 Level-1-2 设备下发 ATT 置位 1 的 Level-1 的 LSP，从而生成指向 AR3 的默认路由。

（2）AR1 无法通过 SPF 感知到域外拓扑变化且不存在默认路由
AR1 仅能根据 Level-1 的链路状态数据库计算区域内的具体拓扑信息，如果 AR3 和 AR4 链路断开，AR1 无法通过 SPF 计算感知到。
但是由于 AR3 与 AR4 链路断开，AR3 的 Level-2 数据库中也不存在其它区域的信息，因此会重新产生 ATT 不置位 1 的 Level-1 的 LSP，导致 AR1 和 AR2 无法生成指向 AR3 的默认路由。