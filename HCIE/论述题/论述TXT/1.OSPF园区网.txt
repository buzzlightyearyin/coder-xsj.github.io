结合当前拓扑，OSPF 区域规划如下：
核心路由器和汇聚层路由器之间所有链路部署在 AREA 0 骨干区域中
汇聚路由器和接入路由器之间所有链路部署在 AREA 10 区域中
汇聚路由器（AR4）和接入路由器（AR7）之间链路部署在 AREA 20 区域中
为了使得办公网络发生变化时不影响到服务器区域路由器，可以使用如下方案：
一、OSPF 多区域
1、配置特殊区域
将服务器所在区域配置为特殊区域，考虑到后续可能引入直连路由，建议配置为 Totally NSSA 区域。
部署特殊区域之后，办公网络所有域间明细路由都无法进入服务器所在区域，AR4 生成默认路由指导本区域设备访问外部。
AR4、AR7 配置特殊区域命令如下：
ospf 1
    area 20		// 服务器网络所在区域
        nssa no-summary	// 配置为 Totally NSSA 区域

2、执行路由汇总
在 AR4 上执行域间路由汇总，将办公区域所有业务网段进行路由汇总，AR4 作为 ABR 只将汇总后的路由传递进服务器网络所在区域中，需要确保汇总到所有路由，因此需要考虑前期 IP 地址规划。
AR4 执行路由汇总配置命令如下：
ospf 1
    area 10			// 办公网络所在区域
        abr-summary x.x.x.x y.y.y.y	// x.x.x.x 为汇总后的 ip，y.y.y.y 为汇总后的掩码

二、OSPF 多进程
可以部署 OSPF 多进程的方案实现将办公区域网络和服务器区域网络进行隔离，AR4 作为 ASBR 将服务器所在网络引入进办公区域，为了使得办公网络发生变化时不影响到服务器区域路由器，可以在 AR4 上配置下发默认路由进服务器所在区域。
AR4 配置下发默认路由
ospf 2	// 服务器网络所在区域
    default-route-advertise	// 下发默认路由


结合当前拓扑，通常在园区网出口配置默认路由访问外部，通过 OSPF 下发默认路由给区域内设备，OSPF 下发的默认路由通常以 LSA-5 在除特殊区域以外的 AS 内泛洪。

一、修改外部路由类型
OPSF 下发的 LSA-5 通常有两种度量值类型：Type-1 和 Type-2，缺省情况下为 Type-2 类型，由于 OSPF 计算路由时 Type-1 会优于 Type-2，为了使得流量优选 R1，可以在 R1 配置下发默认路由时修改路由类型。
R1 配置命令如下：
ospf 1
    default-route-advertise type 1	// 下发默认路由并修改类型为 type-1

二、修改开销值

1、修改内部开销值



2、修改外部开销值